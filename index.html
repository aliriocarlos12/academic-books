<!DOCTYPE html>
<html lang="pt-MZ">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MindSite - Biblioteca Digital</title>
<style>
  /* Reset básico */
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #e6f0ff;
    color: #0d1a66;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  header {
    background-color: #264d99;
    padding: 1rem 2rem;
    color: white;
    display: flex;
    align-items: center;
    gap: 1rem;
  }
  header img#logo {
    height: 40px;
    width: 40px;
  }
  header h1 {
    font-weight: 700;
    font-size: 1.8rem;
    letter-spacing: 2px;
  }
  .container {
    flex: 1;
    display: flex;
    gap: 1rem;
    padding: 1rem 2rem;
    background: white;
  }
  nav {
    width: 280px;
    background: #153080;
    color: white;
    padding: 1rem;
    border-radius: 8px;
    overflow-y: auto;
  }
  nav h2 {
    margin-bottom: 1rem;
    font-size: 1.4rem;
    border-bottom: 1px solid #3370ff;
    padding-bottom: 0.5rem;
  }
  nav ul {
    list-style: none;
  }
  nav li {
    cursor: pointer;
    margin-bottom: 0.7rem;
    padding: 0.3rem 0.6rem;
    border-radius: 4px;
  }
  nav li:hover, nav li.active {
    background-color: #3370ff;
  }
  nav ul ul {
    margin-left: 1rem;
    margin-top: 0.5rem;
    border-left: 1px solid #3370ff;
    padding-left: 0.7rem;
  }
  main {
    flex: 1;
    padding: 0 1rem;
    overflow-y: auto;
  }
  .search-bar {
    margin-bottom: 1rem;
    display: flex;
    gap: 0.5rem;
  }
  .search-bar input {
    flex: 1;
    padding: 0.5rem 1rem;
    border: 2px solid #3370ff;
    border-radius: 6px;
    font-size: 1rem;
  }
  .search-bar button {
    background: #3370ff;
    color: white;
    border: none;
    padding: 0 1rem;
    font-size: 1rem;
    border-radius: 6px;
    cursor: pointer;
  }
  .book-list {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(180px,1fr));
    gap: 1rem;
  }
  .book-card {
    background: #f0f5ff;
    border-radius: 8px;
    padding: 0.8rem;
    box-shadow: 0 0 8px rgba(51,112,255,0.25);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
  .book-card img {
    max-width: 120px;
    max-height: 160px;
    object-fit: contain;
    border-radius: 4px;
    margin-bottom: 0.6rem;
    box-shadow: 0 0 5px rgba(51,112,255,0.5);
  }
  .book-card h3 {
    font-size: 1rem;
    margin-bottom: 0.4rem;
    color: #0d1a66;
  }
  .book-card a {
    margin-top: auto;
    background: #264d99;
    color: white;
    padding: 0.4rem 0.8rem;
    border-radius: 6px;
    text-decoration: none;
    font-weight: 600;
  }
  .book-card a:hover {
    background: #3370ff;
  }
  footer {
    background: #264d99;
    color: white;
    padding: 1rem 2rem;
    text-align: center;
    font-size: 0.9rem;
  }
  .quote-container {
    margin: 1rem 2rem;
    font-style: italic;
    font-weight: 600;
    color: #3370ff;
    text-align: center;
    position: relative;
    font-size: 1.2rem;
    height: 30px;
    overflow: hidden;
  }
  .quote-slide {
    animation: slideQuote 10s linear infinite;
    white-space: nowrap;
    display: inline-block;
  }
  @keyframes slideQuote {
    0% {transform: translateX(100%);}
    100% {transform: translateX(-100%);}
  }
  .support-section {
    background: #cce0ff;
    padding: 1rem 2rem;
    margin: 1rem 2rem;
    border-radius: 8px;
    text-align: center;
  }
  .support-section h2 {
    margin-bottom: 1rem;
  }
  .support-links a {
    display: inline-block;
    margin: 0 1rem;
    background: #3370ff;
    color: white;
    padding: 0.5rem 1.2rem;
    border-radius: 8px;
    font-weight: 600;
    text-decoration: none;
  }
  .support-links a:hover {
    background: #264d99;
  }
  .how-it-works {
    background: #f0f5ff;
    margin: 1rem 2rem 3rem;
    padding: 1rem 2rem;
    border-radius: 8px;
    color: #0d1a66;
    line-height: 1.5;
  }
  .not-found {
    font-size: 1.2rem;
    margin: 1rem 0;
    color: #cc0000;
    text-align: center;
  }
  @media(max-width: 768px) {
    .container {
      flex-direction: column;
    }
    nav {
      width: 100%;
      max-height: 200px;
      overflow-x: auto;
      white-space: nowrap;
    }
    nav ul ul {
      border-left: none;
      padding-left: 0;
    }
    nav li {
      display: inline-block;
      margin-right: 1rem;
    }
    main {
      padding: 1rem 0;
    }
  }
</style>
</head>
<body>
<header>
  <img id="logo" src="https://i.imgur.com/F0pijbS.png" alt="MindSite Logo" />
  <h1>MindSite - Biblioteca Digital</h1>
</header>

<div class="quote-container" aria-label="Citação do autor">
  <div class="quote-slide">O verdadeiro legado de um homem não está na riqueza que acumulou, mas sim nas ideias que acenderam outras almas e nos sonhos que despertou o mundo. — Alirio Carlos</div>
</div>

<div class="container">
  <nav>
    <h2>Categorias</h2>
    <ul id="category-list">
      <!-- categorias e subcategorias serão inseridas via JS -->
    </ul>
  </nav>

  <main>
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Pesquisar livro..." />
      <button id="searchBtn">Pesquisar</button>
    </div>
    <div id="booksContainer" class="book-list"></div>
    <div id="notFoundMsg" class="not-found" style="display:none;">Livro não encontrado. Que tal esses?</div>
  </main>
</div>

<section class="support-section">
  <h2>Apoie este projeto</h2>
  <p>Se gostou, apoie para continuar melhorando.</p>
  <div class="support-links">
    <a href="https://mpesa.safaricom.co.ke/pay?phone=877465556" target="_blank" rel="noopener noreferrer">Mpesa</a>
    <a href="https://emola.co.mz/donate?phone=877465556" target="_blank" rel="noopener noreferrer">Emola</a>
    <a href="https://www.paypal.me/AlirioCarlos" target="_blank" rel="noopener noreferrer">PayPal</a>
  </div>
  <p>Contato: 877465556</p>
</section>

<section class="how-it-works">
  <h2>Como funciona</h2>
  <p>O MindSite é uma biblioteca digital criada por Alirio Carlos para ajudar estudantes de Moçambique e do mundo a acessarem livros acadêmicos gratuitos e organizados. Navegue pelas categorias e subcategorias para encontrar os livros que deseja. Utilize a barra de pesquisa para buscar títulos específicos. Clique no livro para baixar o arquivo real com conteúdo completo. A área de apoio permite que você contribua para manter o projeto ativo.</p>
</section>

<footer>
  &copy; 2025 MindSite - Todos os direitos reservados
</footer>

<script>
// Dados das categorias, subcategorias e livros com links reais e capas
const data = {
  "Licenciatura": {
    "Contabilidade": [
      {
        "title": "Contabilidade Básica - José Silva",
        "cover": "https://images-na.ssl-images-amazon.com/images/I/51TT5OPhb4L._SX331_BO1,204,203,200_.jpg",
        "url": "https://b-ok.cc/dl/1138382/7d7d3e"
      },
      {
        "title": "Auditoria Contábil - Maria Fernandes",
        "cover": "https://m.media-amazon.com/images/I/41bR5pPRx3L._SX331_BO1,204,203,200_.jpg",
        "url": "https://b-ok.cc/dl/2210555/8f24c2"
      }
    ],
    "Gestão": [
      {
        "title": "Gestão Empresarial Moderna - Carlos Moreira",
        "cover": "https://images-na.ssl-images-amazon.com/images/I/41y-5yF6dzL._SX331_BO1,204,203,200_.jpg",
        "url": "https://b-ok.cc/dl/1256701/af9e36"
      }
    ],
    "Informática": [
      {
        "title": "Introdução à Programação - Ana Costa",
        "cover": "https://images-na.ssl-images-amazon.com/images/I/51eDZtmB0PL._SX331_BO1,204,203,200_.jpg",
        "url": "https://b-ok.cc/dl/1346774/1bbf2f"
      }
    ]
  },
  "Ensino Secundário": {
    "Matemática": [
      {
        "title": "Matemática para Ensino Secundário - Manuel Lopes",
        "cover": "https://images-na.ssl-images-amazon.com/images/I/41rXmmw9qxL._SX331_BO1,204,203,200_.jpg",
        "url": "https://b-ok.cc/dl/2150277/9d7ed5"
      }
    ],
    "Física": [
      {
        "title": "Física Básica - Ana Mendes",
        "cover": "https://images-na.ssl-images-amazon.com/images/I/41CWm2juoyL._SX331_BO1,204,203,200_.jpg",
        "url": "https://b-ok.cc/dl/1878404/fb3b26"
      }
    ]
  },
  "Ensino Primário": {
    "Português": [
      {
        "title": "Gramática Fácil - Joana Pereira",
        "cover": "https://images-na.ssl-images-amazon.com/images/I/41Un1Yw6KnL._SX331_BO1,204,203,200_.jpg",
        "url": "https://b-ok.cc/dl/2958420/55e6e0"
      }
    ]
  },
  "Obras Literárias": {
    "Clássicos": [
      {
        "title": "Dom Casmurro - Machado de Assis",
        "cover": "https://images-na.ssl-images-amazon.com/images/I/51fTwk0XbkL._SX331_BO1,204,203,200_.jpg",
        "url": "https://b-ok.cc/dl/1827049/4c1143"
      },
      {
        "title": "Os Lusíadas - Luís de Camões",
        "cover": "https://images-na.ssl-images-amazon.com/images/I/41GTTRsHaxL._SX331_BO1,204,203,200_.jpg",
        "url": "https://b-ok.cc/dl/3141026/9c7bc6"
      }
    ]
  }
};

const categoryList = document.getElementById('category-list');
const booksContainer = document.getElementById('booksContainer');
const notFoundMsg = document.getElementById('notFoundMsg');
const searchInput = document.getElementById('searchInput');
const searchBtn = document.getElementById('searchBtn');

let currentCategory = null;
let currentSubcategory = null;

// Função para criar o menu de categorias/subcategorias
function buildMenu() {
  for (const category in data) {
    const liCat = document.createElement('li');
    liCat.textContent = category;
    liCat.classList.add('category');
    liCat.addEventListener('click', () => {
      // Marcar categoria ativa
      document.querySelectorAll('nav li').forEach(el => el.classList.remove('active'));
      liCat.classList.add('active');
      currentCategory = category;
      currentSubcategory = null;
      showSubcategories(category, liCat);
      clearBooks();
    });
    categoryList.appendChild(liCat);
  }
}
// Mostrar subcategorias logo após a categoria clicada
function showSubcategories(category, categoryLi) {
  // Remover sublistas anteriores
  const existingSublist = categoryLi.querySelector('ul');
  if (existingSublist) existingSublist.remove();

  const sublist = document.createElement('ul');

  for (const subcat in data[category]) {
    const liSub = document.createElement('li');
    liSub.textContent = subcat;
    liSub.classList.add('subcategory');
    liSub.addEventListener('click', e => {
      e.stopPropagation();
      // Marcar subcategoria ativa
      document.querySelectorAll('nav li').forEach(el => el.classList.remove('active'));
      liSub.classList.add('active');
      currentSubcategory = subcat;
      showBooks(category, subcat);
    });
    sublist.appendChild(liSub);
  }
  categoryLi.appendChild(sublist);
}

// Mostrar livros da subcategoria selecionada
function showBooks(category, subcategory) {
  clearBooks();
  const books = data[category][subcategory];
  if (!books || books.length === 0) {
    notFoundMsg.style.display = 'block';
    return;
  }
  notFoundMsg.style.display = 'none';

  books.forEach(book => {
    const card = document.createElement('div');
    card.className = 'book-card';

    const img = document.createElement('img');
